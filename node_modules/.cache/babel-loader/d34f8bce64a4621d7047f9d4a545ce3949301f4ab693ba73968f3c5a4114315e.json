{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\siris\\\\OneDrive\\\\Documents\\\\GitHub\\\\ZooDBFrontEnd\\\\src\\\\components\\\\CustomerProfile\\\\CustomerProfileUpdate.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport DatePicker from 'react-datepicker';\nimport 'react-datepicker/dist/react-datepicker.css';\nimport './CustomerProfileUpdate.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction CustomerProfileUpdate({\n  customerId\n}) {\n  _s();\n  const [firstName, setFirstName] = useState('');\n  const [lastName, setLastName] = useState('');\n  const [phoneNumber, setPhoneNumber] = useState('');\n  const [address, setAddress] = useState('');\n  const [zipCode, setZipCode] = useState('');\n  const [dob, setDob] = useState(new Date());\n  const [oldData, setOldData] = useState({});\n  useEffect(() => {\n    axios.get(`https://zoodatabasebackend.azurewebsites.net/api/ZooDb/GetUserProfile?customerId=${customerId}`).then(response => {\n      const data = response.data;\n      setOldData(data);\n      setFirstName(data.firstName || '');\n      setLastName(data.lastName || '');\n      setPhoneNumber(data.phoneNumber || '');\n      setAddress(data.address || '');\n      setZipCode(data.zipCode || '');\n      setDob(data.dob ? new Date(data.dob) : new Date());\n    }).catch(error => {\n      console.error('Error fetching data:', error);\n    });\n  }, [customerId]);\n  const handleSubmit = event => {\n    event.preventDefault();\n    const formattedDate = dob.toISOString().slice(0, 10);\n    const data = {\n      ...oldData,\n      firstName: firstName,\n      lastName: lastName,\n      phoneNumber: phoneNumber,\n      address: address,\n      zipCode: zipCode,\n      dob: formattedDate\n    };\n    axios.put(`http://localhost:5095/api/ZooDb/UpdateUserProfile/${customerId}`, data, {\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    }).then(res => {\n      console.log('Response:', res.data);\n      alert('Profile updated successfully');\n    }).catch(error => {\n      console.error('Update error:', error);\n      alert('Profile failed to update');\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"profile-update-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Update Profile\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: [\"First Name:\", /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: firstName,\n          onChange: e => setFirstName(e.target.value),\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: [\"Last Name:\", /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: lastName,\n          onChange: e => setLastName(e.target.value),\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: [\"Phone Number:\", /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"tel\",\n          value: phoneNumber,\n          onChange: e => setPhoneNumber(e.target.value),\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: [\"Address:\", /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: address,\n          onChange: e => setAddress(e.target.value),\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: [\"Zip Code:\", /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: zipCode,\n          onChange: e => setZipCode(e.target.value),\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        children: \"Update Profile\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 64,\n    columnNumber: 5\n  }, this);\n}\n_s(CustomerProfileUpdate, \"jg3TBUTMo/0XP7fuWZ1aTsWgg90=\");\n_c = CustomerProfileUpdate;\nexport default CustomerProfileUpdate;\nvar _c;\n$RefreshReg$(_c, \"CustomerProfileUpdate\");","map":{"version":3,"names":["React","useState","useEffect","axios","DatePicker","jsxDEV","_jsxDEV","CustomerProfileUpdate","customerId","_s","firstName","setFirstName","lastName","setLastName","phoneNumber","setPhoneNumber","address","setAddress","zipCode","setZipCode","dob","setDob","Date","oldData","setOldData","get","then","response","data","catch","error","console","handleSubmit","event","preventDefault","formattedDate","toISOString","slice","put","headers","res","log","alert","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","type","value","onChange","e","target","required","_c","$RefreshReg$"],"sources":["C:/Users/siris/OneDrive/Documents/GitHub/ZooDBFrontEnd/src/components/CustomerProfile/CustomerProfileUpdate.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport DatePicker from 'react-datepicker';\r\nimport 'react-datepicker/dist/react-datepicker.css';\r\nimport './CustomerProfileUpdate.css';\r\n\r\nfunction CustomerProfileUpdate({ customerId }) {\r\n  const [firstName, setFirstName] = useState('');\r\n  const [lastName, setLastName] = useState('');\r\n  const [phoneNumber, setPhoneNumber] = useState('');\r\n  const [address, setAddress] = useState('');\r\n  const [zipCode, setZipCode] = useState('');\r\n  const [dob, setDob] = useState(new Date());\r\n  const [oldData, setOldData] = useState({});\r\n\r\n  useEffect(() => {\r\n    axios.get(`https://zoodatabasebackend.azurewebsites.net/api/ZooDb/GetUserProfile?customerId=${customerId}`)\r\n      .then(response => {\r\n        const data = response.data;\r\n        setOldData(data);\r\n        setFirstName(data.firstName || '');\r\n        setLastName(data.lastName || '');\r\n        setPhoneNumber(data.phoneNumber || '');\r\n        setAddress(data.address || '');\r\n        setZipCode(data.zipCode || '');\r\n        setDob(data.dob ? new Date(data.dob) : new Date());\r\n      })\r\n      .catch(error => {\r\n        console.error('Error fetching data:', error);\r\n      });\r\n  }, [customerId]);\r\n\r\n  const handleSubmit = (event) => {\r\n    event.preventDefault();\r\n  \r\n    const formattedDate = dob.toISOString().slice(0, 10);\r\n\r\n    const data = {\r\n      ...oldData,\r\n      firstName: firstName,\r\n      lastName: lastName,\r\n      phoneNumber: phoneNumber,\r\n      address: address,\r\n      zipCode: zipCode,\r\n      dob: formattedDate\r\n    };\r\n\r\n    axios.put(`http://localhost:5095/api/ZooDb/UpdateUserProfile/${customerId}`, data, {\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      }\r\n    })\r\n    .then(res => {\r\n      console.log('Response:', res.data);\r\n      alert('Profile updated successfully');\r\n    })\r\n    .catch(error => {\r\n      console.error('Update error:', error);\r\n      alert('Profile failed to update');\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div className=\"profile-update-container\">\r\n      <h2>Update Profile</h2>\r\n      <form onSubmit={handleSubmit}>\r\n        <label>\r\n          First Name:\r\n          <input type=\"text\" value={firstName} onChange={e => setFirstName(e.target.value)} required />\r\n        </label>\r\n        <label>\r\n          Last Name:\r\n          <input type=\"text\" value={lastName} onChange={e => setLastName(e.target.value)} required />\r\n        </label>\r\n        <label>\r\n          Phone Number:\r\n          <input type=\"tel\" value={phoneNumber} onChange={e => setPhoneNumber(e.target.value)} required />\r\n        </label>\r\n        <label>\r\n          Address:\r\n          <input type=\"text\" value={address} onChange={e => setAddress(e.target.value)} required />\r\n        </label>\r\n        <label>\r\n          Zip Code:\r\n          <input type=\"text\" value={zipCode} onChange={e => setZipCode(e.target.value)} required />\r\n        </label>\r\n       \r\n        <button type=\"submit\">Update Profile</button>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default CustomerProfileUpdate;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}